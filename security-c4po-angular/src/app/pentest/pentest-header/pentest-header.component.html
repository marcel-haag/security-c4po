<div class="pentest-stepper" fxLayout="row" fxLayoutGap="2rem" fxLayoutAlign="space-between center">
  <div class="exit-button-container">
    <button nbButton
            shape="round"
            title="{{ 'global.action.exit' | translate }}"
            (click)="onClickRouteBack()">
      <fa-icon [icon]="fa.faLongArrowAltLeft"
               class="exit-element-icon fa-lg">
      </fa-icon>
      <span class="exit-element-text"> {{ 'global.action.exit' | translate }} </span>
    </button>
  </div>

  <h4>{{selectedProjectTitle$.getValue()}}   /  {{pentest$.getValue().refNumber}}</h4>

  <div class="pentest-status-container">
    <!--ToDo: Add changing dialog here-->
    <!--<app-status-tag [currentStatus]="pentest$.getValue().status"></app-status-tag>-->

    <!-- Pentest Status Selection -->
    <div class="pentest-status-dialog">
      <nb-select class="status"
                 [(selected)]="currentStatus"
                 shape="round" filled
                 status="{{getPentestFillStatus(currentStatus)}}">
        <nb-option *ngFor="let status of statusTexts" [value]="status.value">
          {{ status.translationText | translate }}
        </nb-option>
      </nb-select>
    </div>
    <div *ngIf="!pentest$.getValue().id; else updatePentest">
      <button nbButton
              class="save-pentest-button"
              status="primary"
              [disabled]="!pentestStatusChanged()"
              title="{{ 'global.action.save' | translate }}"
              (click)="onClickSavePentest()">
        <span class="exit-element-text"> {{ 'global.action.save' | translate }} </span>
      </button>
    </div>
    <ng-template #updatePentest>
      <button nbButton
              class="save-pentest-button"
              status="primary"
              [disabled]="!pentestStatusChanged()"
              title="{{ 'global.action.update' | translate }}"
              (click)="onClickUpdatePentest()">
        <span class="exit-element-text"> {{ 'global.action.update' | translate }} </span>
      </button>
    </ng-template>

  </div>
</div>

