<div class="pentest-content">
  <div class="content">
    <nb-tabset>
      <nb-tab class="pentest-tabset" tabTitle="{{ 'global.action.info' | translate }}">
        <app-pentest-info [pentestInfo$]=pentest$></app-pentest-info>
      </nb-tab>
      <nb-tab class="pentest-tabset" tabTitle="{{ 'pentest.findings' | translate }}"
              badgeText="{{currentNumberOfFindings$.getValue()}}" badgeStatus="danger">
        <app-pentest-findings [pentestInfo$]=pentest$></app-pentest-findings>
      </nb-tab>
      <nb-tab class="pentest-tabset" tabTitle="{{ 'pentest.comments' | translate }}"
              badgeText="{{currentNumberOfComments$.getValue()}}" badgeStatus="info">
        <app-pentest-comments [pentestInfo$]=pentest$></app-pentest-comments>
      </nb-tab>
    </nb-tabset>
  </div>

  <div fxLayoutAlign="end end" class="content-footer">
    <!-- Pentest Status Selection -->
    <div class="pentest-status-dialog">
      <nb-select class="status"
                 [(selected)]="currentStatus"
                 shape="round" filled
                 status="{{getPentestFillStatus(currentStatus)}}">
        <nb-option *ngFor="let status of statusTexts" [value]="status.value">
          {{ status.translationText | translate }}
        </nb-option>
      </nb-select>
    </div>
    <div *ngIf="!pentest$.getValue().id; else updatePentest">
      <button nbButton
              class="save-pentest-button"
              status="primary"
              [disabled]="!pentestStatusChanged()"
              title="{{ 'global.action.save' | translate }}"
              (click)="onClickSavePentest()">
        <span class="exit-element-text"> {{ 'global.action.save' | translate }} </span>
      </button>
    </div>
    <ng-template #updatePentest>
      <button nbButton
              class="save-pentest-button"
              status="primary"
              [disabled]="!pentestStatusChanged()"
              title="{{ 'global.action.update' | translate }}"
              (click)="onClickUpdatePentest()">
        <span class="exit-element-text"> {{ 'global.action.update' | translate }} </span>
      </button>
    </ng-template>

  </div>
</div>

